#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n31_xori_test)
    .set noreorder
    addiu s0, s0 ,1
    addiu s3, s3, 1
    li  s2, 0x00
###test inst
    TEST_XORI(0x4406a500, 0x000014bf, 0x4406b1bf)
    TEST_XORI(0xb5f52460, 0x0000babe, 0xb5f59ede)
    TEST_XORI(0x34547fee, 0x00009cfa, 0x3454e314)
    TEST_XORI(0x4d7c6e70, 0x0000fdf4, 0x4d7c9384)
    TEST_XORI(0x85a510c8, 0x0000bb58, 0x85a5ab90)
    TEST_XORI(0xbded2e10, 0x000019f0, 0xbded37e0)
    TEST_XORI(0x1b771d7c, 0x00007f09, 0x1b776275)
    TEST_XORI(0x61350040, 0x0000cb6d, 0x6135cb2d)
    TEST_XORI(0xd8b22e76, 0x00001227, 0xd8b23c51)
    TEST_XORI(0x1077f310, 0x00001bf8, 0x1077e8e8)
    TEST_XORI(0x40907e16, 0x0000bc7c, 0x4090c26a)
    TEST_XORI(0x018099e0, 0x0000bfaa, 0x0180264a)
    TEST_XORI(0xc929a3e2, 0x0000d14a, 0xc92972a8)
    TEST_XORI(0xb3234f60, 0x0000ffa5, 0xb323b0c5)
    TEST_XORI(0x4caf5120, 0x00001101, 0x4caf4021)
    TEST_XORI(0x3d9d7798, 0x0000e6a3, 0x3d9d913b)
    TEST_XORI(0x7b3bec00, 0x00000780, 0x7b3beb80)
    TEST_XORI(0x41b0e100, 0x0000899e, 0x41b0689e)
    TEST_XORI(0x00000000, 0x0000bec8, 0x0000bec8)
    TEST_XORI(0x00000000, 0x0000d9a8, 0x0000d9a8)
    TEST_XORI(0x00000000, 0x0000c10a, 0x0000c10a)
    TEST_XORI(0x00000000, 0x00009362, 0x00009362)
    TEST_XORI(0x00000000, 0x0000c5c6, 0x0000c5c6)
    TEST_XORI(0x00000000, 0x00001764, 0x00001764)
    TEST_XORI(0x00000000, 0x0000b690, 0x0000b690)
    TEST_XORI(0x00000000, 0x00007309, 0x00007309)
    TEST_XORI(0x00000000, 0x00001748, 0x00001748)
    TEST_XORI(0x00000000, 0x00005fa0, 0x00005fa0)
    TEST_XORI(0x00000000, 0x000007ec, 0x000007ec)
    TEST_XORI(0x00000000, 0x0000feaa, 0x0000feaa)
    TEST_XORI(0x00000000, 0x00001f26, 0x00001f26)
    TEST_XORI(0x00000000, 0x0000c9ad, 0x0000c9ad)
    TEST_XORI(0x00000000, 0x00009baf, 0x00009baf)
    TEST_XORI(0x00000000, 0x0000a726, 0x0000a726)
    TEST_XORI(0x00000000, 0x0000d918, 0x0000d918)
    TEST_XORI(0x00000000, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n31_xori_test)
