#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n38_bgtz_test)
    .set noreorder
    addiu s0, s0 ,1
    li  s2, 0x0
###test inst
    TEST_BGTZ(0xcc738190, 0x40b40d40, 0x45eb9450, 0x00000000, 0x00000000)
    TEST_BGTZ(0x8b970e60, 0x3e3026e7, 0x485f2d18, 0x00000000, 0x00000000)
    TEST_BGTZ(0x7b4858f8, 0x983fea90, 0x9bf0c7cc, 0x983fea90, 0x9bf0c7cc)
    TEST_BGTZ(0x65fbd242, 0x76d2102e, 0xa5ded158, 0x76d2102e, 0xa5ded158)
    TEST_BGTZ(0x033a61c6, 0xd3a9ed2a, 0xdb0ff880, 0xd3a9ed2a, 0xdb0ff880)
    TEST_BGTZ(0xc73719a0, 0x43df9d30, 0xd325d5c0, 0x00000000, 0x00000000)
    TEST_BGTZ(0x29fe5c70, 0x487aa5f8, 0x0cac5c42, 0x487aa5f8, 0x0cac5c42)
    TEST_BGTZ(0x70292a83, 0xb1d2c299, 0xb42f8e16, 0xb1d2c299, 0xb42f8e16)
    TEST_BGTZ(0xa8fdea40, 0xb433e137, 0xced00be0, 0x00000000, 0x00000000)
    TEST_BGTZ(0x03e4c675, 0x82556134, 0x55f09ef0, 0x82556134, 0x55f09ef0)
    TEST_BGTZ(0xf43eb720, 0xbb8b96d0, 0xcaac9dfe, 0x00000000, 0x00000000)
    TEST_BGTZ(0x5dddda80, 0x226ba480, 0xd0e33de0, 0x226ba480, 0xd0e33de0)
    TEST_BGTZ(0x1f3bdfe4, 0xdc03c5bc, 0x2ef0ca10, 0xdc03c5bc, 0x2ef0ca10)
    TEST_BGTZ(0xd6d41815, 0x2f024ea2, 0x2f1c77e2, 0x00000000, 0x00000000)
    TEST_BGTZ(0x2f43ec00, 0x29a588a0, 0x30949d58, 0x29a588a0, 0x30949d58)
    TEST_BGTZ(0xd273451c, 0xb936d8d4, 0xb35ea090, 0x00000000, 0x00000000)
    TEST_BGTZ(0xf0845fa9, 0xa8657f46, 0x6b4395b8, 0x00000000, 0x00000000)
    TEST_BGTZ(0xeb3cbab4, 0x6519e328, 0xb37c2bc0, 0x00000000, 0x00000000)
    TEST_BGTZ(0xc7db0e1c, 0x1f9a381a, 0x8332b955, 0x00000000, 0x00000000)
    TEST_BGTZ(0x221d0568, 0x4be5046a, 0x4024468c, 0x4be5046a, 0x4024468c)
    TEST_BGTZ(0x738e3590, 0xb24b821b, 0x03709c84, 0xb24b821b, 0x03709c84)
    TEST_BGTZ(0xdc199208, 0xb5c14700, 0x310d1c35, 0x00000000, 0x00000000)
    TEST_BGTZ(0x4a2842dc, 0xc75cb7f8, 0x004bcd80, 0xc75cb7f8, 0x004bcd80)
    TEST_BGTZ(0x5b819f5a, 0xc35df970, 0xc5bbd1b2, 0xc35df970, 0xc5bbd1b2)
    TEST_BGTZ(0xdc227520, 0xe08c3bec, 0x55d05bfc, 0x00000000, 0x00000000)
    TEST_BGTZ(0xf8aa44a0, 0xa85a2508, 0xc82dfdb0, 0x00000000, 0x00000000)
    TEST_BGTZ(0x00000000, 0x79bb8050, 0xa7583a00, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n38_bgtz_test)
