#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n27_andi_test)
    .set noreorder
    addiu s0, s0 ,1
    li  s2, 0x00
###test inst
    TEST_ANDI(0x4c23cdd4, 0x00005e89, 0x00004c80)
    TEST_ANDI(0xa1286600, 0x000008aa, 0x00000000)
    TEST_ANDI(0xea42f8c0, 0x00008d3e, 0x00008800)
    TEST_ANDI(0x3caba000, 0x0000f42b, 0x0000a000)
    TEST_ANDI(0x9c3a2af6, 0x0000947a, 0x00000072)
    TEST_ANDI(0x3e110120, 0x00000933, 0x00000120)
    TEST_ANDI(0x5b444b50, 0x000053fd, 0x00004350)
    TEST_ANDI(0x7f3c4c95, 0x00002e4c, 0x00000c04)
    TEST_ANDI(0x004c9682, 0x00001bc0, 0x00001280)
    TEST_ANDI(0xe36c870c, 0x0000e354, 0x00008304)
    TEST_ANDI(0xb158d481, 0x00003cd0, 0x00001480)
    TEST_ANDI(0xc9265040, 0x0000f124, 0x00005000)
    TEST_ANDI(0xa9eeef7b, 0x00008af3, 0x00008a73)
    TEST_ANDI(0xbd9c32aa, 0x0000fb85, 0x00003280)
    TEST_ANDI(0xd146e020, 0x00005219, 0x00004000)
    TEST_ANDI(0x368c5db5, 0x00000000, 0x00000000)
    TEST_ANDI(0x00aff7c8, 0x00000000, 0x00000000)
    TEST_ANDI(0x3ce74c00, 0x00000000, 0x00000000)
    TEST_ANDI(0x31318f60, 0x00000000, 0x00000000)
    TEST_ANDI(0x1b684480, 0x00000000, 0x00000000)
    TEST_ANDI(0xcfc9a7a8, 0x00000000, 0x00000000)
    TEST_ANDI(0xf34f9e20, 0x00000000, 0x00000000)
    TEST_ANDI(0x1914123c, 0x00000000, 0x00000000)
    TEST_ANDI(0xdaaae9aa, 0x00000000, 0x00000000)
    TEST_ANDI(0x00000000, 0x0000f73c, 0x00000000)
    TEST_ANDI(0x00000000, 0x0000c186, 0x00000000)
    TEST_ANDI(0x00000000, 0x00007b48, 0x00000000)
    TEST_ANDI(0x00000000, 0x0000d5e0, 0x00000000)
    TEST_ANDI(0x00000000, 0x00005495, 0x00000000)
    TEST_ANDI(0x00000000, 0x000078b2, 0x00000000)
    TEST_ANDI(0x00000000, 0x00007028, 0x00000000)
    TEST_ANDI(0x00000000, 0x0000c013, 0x00000000)
    TEST_ANDI(0x00000000, 0x0000e000, 0x00000000)
    TEST_ANDI(0x00000000, 0x0000db02, 0x00000000)
    TEST_ANDI(0x00000000, 0x0000cb00, 0x00000000)
    TEST_ANDI(0x00000000, 0x0000ee05, 0x00000000)
    TEST_ANDI(0x00000000, 0x000024ca, 0x00000000)
    TEST_ANDI(0x00000000, 0x000020b2, 0x00000000)
    TEST_ANDI(0x00000000, 0x00007bc7, 0x00000000)
    TEST_ANDI(0x00000000, 0x0000546b, 0x00000000)
    TEST_ANDI(0x00000000, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n27_andi_test)
