#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n22_addi_test)
    .set noreorder
    addiu s0, s0 ,1
    li  s2, 0x00
###test inst
    TEST_ADDI(0x0151e5c0, 0x0000b945, 0x01519f05)
    TEST_ADDI(0x64821568, 0x0000e423, 0x6481f98b)
    TEST_ADDI(0xf4876ad2, 0x0000bd20, 0xf48727f2)
    TEST_ADDI(0x17bdeef0, 0x00004644, 0x17be3534)
    TEST_ADDI(0x0b1505c0, 0x00004000, 0x0b1545c0)
    TEST_ADDI(0x8d455444, 0x0000a0da, 0x8d44f51e)
    TEST_ADDI(0x3b865e84, 0x00005c89, 0x3b86bb0d)
    TEST_ADDI(0xfe2e9704, 0x0000e524, 0xfe2e7c28)
    TEST_ADDI(0x810f9a90, 0x0000d5aa, 0x810f703a)
    TEST_ADDI(0x729a55e7, 0x000063d1, 0x729ab9b8)
    TEST_ADDI(0x7ddae5cf, 0x00004d93, 0x7ddb3362)
    TEST_ADDI(0x4485c05e, 0x0000d0f8, 0x44859156)
    TEST_ADDI(0xa2cd75d0, 0x0000c43c, 0xa2cd3a0c)
    TEST_ADDI(0x29dd99fa, 0x0000854a, 0x29dd1f44)
    TEST_ADDI(0x597a5200, 0x0000eb96, 0x597a3d96)
    TEST_ADDI(0x43c76e00, 0x00000000, 0x43c76e00)
    TEST_ADDI(0x1666c310, 0x00000000, 0x1666c310)
    TEST_ADDI(0xa44fbf60, 0x00000000, 0xa44fbf60)
    TEST_ADDI(0x6c9cad6e, 0x00000000, 0x6c9cad6e)
    TEST_ADDI(0x78c8099c, 0x00000000, 0x78c8099c)
    TEST_ADDI(0x6f855e10, 0x00000000, 0x6f855e10)
    TEST_ADDI(0x3af0f50c, 0x00000000, 0x3af0f50c)
    TEST_ADDI(0x5aecf84e, 0x00000000, 0x5aecf84e)
    TEST_ADDI(0xa5c30c48, 0x00000000, 0xa5c30c48)
    TEST_ADDI(0x35a0c0b4, 0x00000000, 0x35a0c0b4)
    TEST_ADDI(0xb9a057d3, 0x00000000, 0xb9a057d3)
    TEST_ADDI(0x00000000, 0x0000013e, 0x0000013e)
    TEST_ADDI(0x00000000, 0x00007180, 0x00007180)
    TEST_ADDI(0x00000000, 0x00004e94, 0x00004e94)
    TEST_ADDI(0x00000000, 0x0000106d, 0x0000106d)
    TEST_ADDI(0x00000000, 0x0000222d, 0x0000222d)
    TEST_ADDI(0x00000000, 0x00003634, 0x00003634)
    TEST_ADDI(0x00000000, 0x00009634, 0xffff9634)
    TEST_ADDI(0x00000000, 0x0000deb4, 0xffffdeb4)
    TEST_ADDI(0x00000000, 0x0000a4bd, 0xffffa4bd)
    TEST_ADDI(0x00000000, 0x00006238, 0x00006238)
    TEST_ADDI(0x00000000, 0x0000ef31, 0xffffef31)
    TEST_ADDI(0x00000000, 0x0000a3a2, 0xffffa3a2)
    TEST_ADDI(0x00000000, 0x0000e5c8, 0xffffe5c8)
    TEST_ADDI(0x00000000, 0x00006770, 0x00006770)
    TEST_ADDI(0x00000000, 0x000074a2, 0x000074a2)
    TEST_ADDI(0x00000000, 0x0000f010, 0xfffff010)
    TEST_ADDI(0x00000000, 0x00001642, 0x00001642)
    TEST_ADDI(0x00000000, 0x000041a8, 0x000041a8)
    TEST_ADDI(0x00000000, 0x0000dcc1, 0xffffdcc1)
    TEST_ADDI(0x00000000, 0x00003e0c, 0x00003e0c)
    TEST_ADDI(0x00000000, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n22_addi_test)
