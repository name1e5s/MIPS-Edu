#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n5_bne_test)
    .set noreorder
    addiu s0, s0 ,1
    li  s2, 0x0
###test inst
    TEST_BNE(0xbcaabd27, 0x82a77a9d, 0x235fde00, 0xdd597dde, 0x235fde00, 0xdd597dde)
    TEST_BNE(0xdb386042, 0x4f6d035f, 0x94668000, 0xe3939568, 0x94668000, 0xe3939568)
    TEST_BNE(0x4d86020c, 0xa71f7d80, 0x9d7e5298, 0xddab2338, 0x9d7e5298, 0xddab2338)
    TEST_BNE(0xd52205c8, 0x60eb2f03, 0x8a162fc0, 0xdee6c348, 0x8a162fc0, 0xdee6c348)
    TEST_BNE(0xe95a09a5, 0x17b9e080, 0x60199ae4, 0x33077154, 0x60199ae4, 0x33077154)
    TEST_BNE(0x00000000, 0x1530a956, 0xdb56b7a8, 0x49b211f0, 0xdb56b7a8, 0x49b211f0)
    TEST_BNE(0x00000000, 0xe34317f6, 0x38abc364, 0xa774a135, 0x38abc364, 0xa774a135)
    TEST_BNE(0x00000000, 0x15c91782, 0xb27bd70c, 0xb672ede0, 0xb27bd70c, 0xb672ede0)
    TEST_BNE(0x00000000, 0x774ab6a0, 0xace06e98, 0xf6c13268, 0xace06e98, 0xf6c13268)
    TEST_BNE(0x00000000, 0x5dfc6230, 0x6ea36e38, 0x6d81b001, 0x6ea36e38, 0x6d81b001)
    TEST_BNE(0x00000000, 0x0edcb298, 0x931c23ac, 0xf917267c, 0x931c23ac, 0xf917267c)
    TEST_BNE(0x00000000, 0x00000000, 0x1744192c, 0x0b48f1f0, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n5_bne_test)
