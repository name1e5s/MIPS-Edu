#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n32_sllv_test)
    .set noreorder
    addiu s0, s0 ,1
    li  s2, 0x00
###test inst
    TEST_SLLV(0x79dbdb34, 0x00000007, 0xeded9a00)
    TEST_SLLV(0xa903fa10, 0x0000001d, 0x00000000)
    TEST_SLLV(0x6bd739d8, 0x0000000d, 0xe73b0000)
    TEST_SLLV(0x273a784a, 0x0000000a, 0xe9e12800)
    TEST_SLLV(0xa419afc0, 0x0000001b, 0x00000000)
    TEST_SLLV(0xfef34de0, 0x00000009, 0xe69bc000)
    TEST_SLLV(0x4eb8cbca, 0x0000001d, 0x40000000)
    TEST_SLLV(0x66495b88, 0x0000000d, 0x2b710000)
    TEST_SLLV(0x27267278, 0x00000015, 0x4f000000)
    TEST_SLLV(0x32789910, 0x0000001c, 0x00000000)
    TEST_SLLV(0x9db898e9, 0x00000015, 0x1d200000)
    TEST_SLLV(0xf2f835c0, 0x0000001c, 0x00000000)
    TEST_SLLV(0xe5d08f1c, 0x00000000, 0xe5d08f1c)
    TEST_SLLV(0x72315bfc, 0x00000014, 0xbfc00000)
    TEST_SLLV(0x7a38d700, 0x00000001, 0xf471ae00)
    TEST_SLLV(0x76cdf700, 0x00000016, 0xc0000000)
    TEST_SLLV(0xcf2b6950, 0x00000000, 0xcf2b6950)
    TEST_SLLV(0x63518bb0, 0x00000000, 0x63518bb0)
    TEST_SLLV(0xe8f3cf20, 0x00000000, 0xe8f3cf20)
    TEST_SLLV(0xd3e7db28, 0x00000000, 0xd3e7db28)
    TEST_SLLV(0xf54b66fc, 0x00000000, 0xf54b66fc)
    TEST_SLLV(0x31ede4b8, 0x00000000, 0x31ede4b8)
    TEST_SLLV(0x2728c3a2, 0x00000000, 0x2728c3a2)
    TEST_SLLV(0x0c400340, 0x00000000, 0x0c400340)
    TEST_SLLV(0x0b5b3e04, 0x00000000, 0x0b5b3e04)
    TEST_SLLV(0x30807cb0, 0x00000000, 0x30807cb0)
    TEST_SLLV(0xace92d24, 0x00000000, 0xace92d24)
    TEST_SLLV(0x8b485f60, 0x00000000, 0x8b485f60)
    TEST_SLLV(0x4ee519ee, 0x00000000, 0x4ee519ee)
    TEST_SLLV(0xd477fb2c, 0x00000000, 0xd477fb2c)
    TEST_SLLV(0x00000000, 0x00000017, 0x00000000)
    TEST_SLLV(0x00000000, 0x00000016, 0x00000000)
    TEST_SLLV(0x00000000, 0x00000001, 0x00000000)
    TEST_SLLV(0x00000000, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n32_sllv_test)
