#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n40_bltz_test)
    .set noreorder
    addiu s0, s0 ,1
    li  s2, 0x0
###test inst
    TEST_BLTZ(0x9e0d7d08, 0x933a7610, 0xee034360, 0x933a7610, 0xee034360)
    TEST_BLTZ(0x9d459300, 0x0f16b74f, 0x686b1250, 0x0f16b74f, 0x686b1250)
    TEST_BLTZ(0xf98d5680, 0xf8a37ee5, 0x61e96814, 0xf8a37ee5, 0x61e96814)
    TEST_BLTZ(0xcf6684e0, 0x39f59b62, 0x23c98d99, 0x39f59b62, 0x23c98d99)
    TEST_BLTZ(0xfff90290, 0x6a2f7d7c, 0xc275fd82, 0x6a2f7d7c, 0xc275fd82)
    TEST_BLTZ(0xadc62fa0, 0x66fef41f, 0x98a0ce08, 0x66fef41f, 0x98a0ce08)
    TEST_BLTZ(0x64e0d7d2, 0xb2d5538c, 0x9eea574c, 0x00000000, 0x00000000)
    TEST_BLTZ(0x50eb3284, 0xbdd2d88f, 0x20c9711c, 0x00000000, 0x00000000)
    TEST_BLTZ(0x9cb06f0b, 0x83e6c124, 0x0e42efa4, 0x83e6c124, 0x0e42efa4)
    TEST_BLTZ(0xd6dc7dde, 0xc019d540, 0xffaecc98, 0xc019d540, 0xffaecc98)
    TEST_BLTZ(0x70ca1af8, 0x2dba7b70, 0xdba141b0, 0x00000000, 0x00000000)
    TEST_BLTZ(0x733f61a6, 0xc841c5c8, 0xe3f82434, 0x00000000, 0x00000000)
    TEST_BLTZ(0xf5969546, 0x18389fc2, 0xeb9542c8, 0x18389fc2, 0xeb9542c8)
    TEST_BLTZ(0x00000000, 0x5f7d6c5f, 0x632c31aa, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++

###output (s0<<24)|s3
inst_error:  
    addiu s3, s3, 1
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n40_bltz_test)
