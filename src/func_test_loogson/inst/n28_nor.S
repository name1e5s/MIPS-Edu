#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n28_nor_test)
    .set noreorder
    addiu s0, s0 ,1
    li  s2, 0x00
###test inst
    TEST_NOR(0xad9cc00e, 0x38b7ec24, 0x424013d1)
    TEST_NOR(0x668d5db0, 0xa0945bf0, 0x1962a00f)
    TEST_NOR(0x6d830f90, 0x66b31460, 0x904ce00f)
    TEST_NOR(0x6008f35f, 0x54ae81fa, 0x8b510c00)
    TEST_NOR(0xacc8f2d2, 0x51491760, 0x0236080d)
    TEST_NOR(0x2a6a9bd6, 0x9344b900, 0x44914429)
    TEST_NOR(0xaf20c132, 0xf15dec9c, 0x00821241)
    TEST_NOR(0x39bfc7a0, 0x3cc70c56, 0xc2003009)
    TEST_NOR(0x667dae50, 0x78aee774, 0x8100108b)
    TEST_NOR(0xb32a23f0, 0xcad3e307, 0x04041c08)
    TEST_NOR(0xf96b9c74, 0x58d64eb8, 0x06002103)
    TEST_NOR(0x00000000, 0x12819cd8, 0xed7e6327)
    TEST_NOR(0x00000000, 0x91791260, 0x6e86ed9f)
    TEST_NOR(0x00000000, 0xd8f43c67, 0x270bc398)
    TEST_NOR(0x00000000, 0x622e9a80, 0x9dd1657f)
    TEST_NOR(0x00000000, 0xd88fdb70, 0x2770248f)
    TEST_NOR(0x00000000, 0x0d2f8e00, 0xf2d071ff)
    TEST_NOR(0x00000000, 0xd4cb7180, 0x2b348e7f)
    TEST_NOR(0x00000000, 0x529a64e8, 0xad659b17)
    TEST_NOR(0x00000000, 0x6ba75e70, 0x9458a18f)
    TEST_NOR(0x00000000, 0xc8987153, 0x37678eac)
    TEST_NOR(0x00000000, 0x4c4e9ba0, 0xb3b1645f)
    TEST_NOR(0x00000000, 0xf5200028, 0x0adfffd7)
    TEST_NOR(0x00000000, 0xd3997138, 0x2c668ec7)
    TEST_NOR(0x00000000, 0xae458640, 0x51ba79bf)
    TEST_NOR(0x00000000, 0xa7f13186, 0x580ece79)
    TEST_NOR(0x00000000, 0xf6b869a8, 0x09479657)
    TEST_NOR(0x00000000, 0x61164f98, 0x9ee9b067)
    TEST_NOR(0x00000000, 0x03c9a2fc, 0xfc365d03)
    TEST_NOR(0x00000000, 0x7b664d80, 0x8499b27f)
    TEST_NOR(0x00000000, 0xe05bf600, 0x1fa409ff)
    TEST_NOR(0x00000000, 0x87149700, 0x78eb68ff)
    TEST_NOR(0x00000000, 0x12f4bd56, 0xed0b42a9)
    TEST_NOR(0x00000000, 0x03bef798, 0xfc410867)
    TEST_NOR(0x00000000, 0x493cab90, 0xb6c3546f)
    TEST_NOR(0x00000000, 0x41f29fa4, 0xbe0d605b)
    TEST_NOR(0x00000000, 0x8500b112, 0x7aff4eed)
    TEST_NOR(0x00000000, 0x49c9c823, 0xb63637dc)
    TEST_NOR(0x00000000, 0x806bf524, 0x7f940adb)
    TEST_NOR(0x00000000, 0x925e744c, 0x6da18bb3)
    TEST_NOR(0x00000000, 0x80ea540c, 0x7f15abf3)
    TEST_NOR(0x00000000, 0x15ffba38, 0xea0045c7)
    TEST_NOR(0x00000000, 0x4bb0467a, 0xb44fb985)
    TEST_NOR(0x00000000, 0x9da6a668, 0x62595997)
    TEST_NOR(0x00000000, 0xf0381380, 0x0fc7ec7f)
    TEST_NOR(0x00000000, 0x62c84b4a, 0x9d37b4b5)
    TEST_NOR(0x00000000, 0xe07cdec0, 0x1f83213f)
    TEST_NOR(0x00000000, 0xc5b31dc7, 0x3a4ce238)
    TEST_NOR(0x00000000, 0x00000000, 0xffffffff)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n28_nor_test)
