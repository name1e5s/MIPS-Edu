#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n59_lb_test)
    .set noreorder
    addiu s0, s0, 1
    li  s2, 0x0
###test inst
    TEST_LB(0xc83b0be0, 0x800d6760, 0x000037a1, 0x000037a0, 0x0000000b)
    TEST_LB(0x1eec280c, 0x800d4598, 0x0000980c, 0x0000980c, 0x0000000c)
    TEST_LB(0xa0afed52, 0x800d4590, 0x00008a82, 0x00008a80, 0xffffffaf)
    TEST_LB(0xf28295e8, 0x800d8000, 0x000025fd, 0x000025fc, 0xffffff95)
    TEST_LB(0x7bcc0898, 0x800d8000, 0x00004c75, 0x00004c74, 0x00000008)
    TEST_LB(0xeaa165b4, 0x800d8000, 0x0000637b, 0x00006378, 0xffffffea)
    TEST_LB(0x3ff57a80, 0x800d8000, 0x00000f03, 0x00000f00, 0x0000003f)
    TEST_LB(0x300e8840, 0x800d8000, 0x00001b04, 0x00001b04, 0x00000040)
    TEST_LB(0xfb63b448, 0x800d8000, 0x00000000, 0x00000000, 0x00000048)
    TEST_LB(0x358c8a40, 0x800d8000, 0x00000002, 0x00000000, 0xffffff8c)
    TEST_LB(0x5e903520, 0x800d8000, 0x00000000, 0x00000000, 0x00000020)
    TEST_LB(0x83832cc2, 0x800d8000, 0x00000001, 0x00000000, 0x0000002c)
    TEST_LB(0x4554da80, 0x800d8000, 0x00000002, 0x00000000, 0x00000054)
    TEST_LB(0x8e310700, 0x800d8000, 0x00000001, 0x00000000, 0x00000007)
    TEST_LB(0xf152d038, 0x800d8000, 0x00000001, 0x00000000, 0xffffffd0)
    TEST_LB(0xa100c498, 0x800d8000, 0x00000002, 0x00000000, 0x00000000)
    TEST_LB(0xea4a9128, 0x800d8000, 0x00000003, 0x00000000, 0xffffffea)
    TEST_LB(0x8941eeb0, 0x800d8000, 0x00000000, 0x00000000, 0xffffffb0)
    TEST_LB(0x1b289e0c, 0x800d8000, 0x00000002, 0x00000000, 0x00000028)
    TEST_LB(0x333c7a70, 0x800d8000, 0x00000002, 0x00000000, 0x0000003c)
    TEST_LB(0x865efaf0, 0x800d8000, 0x00000002, 0x00000000, 0x0000005e)
    TEST_LB(0xac40eea4, 0x800d8000, 0x00000002, 0x00000000, 0x00000040)
    TEST_LB(0x24b5e96a, 0x800d8000, 0x00000002, 0x00000000, 0xffffffb5)
    TEST_LB(0x31aa938c, 0x800d8000, 0x00000002, 0x00000000, 0xffffffaa)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n59_lb_test)
