#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n29_ori_test)
    .set noreorder
    addiu s0, s0 ,1
    li  s2, 0x00
###test inst
    TEST_ORI(0x0d48918a, 0x00007fe6, 0x0d48ffee)
    TEST_ORI(0x891d17a0, 0x0000b034, 0x891db7b4)
    TEST_ORI(0x8becf220, 0x0000d800, 0x8becfa20)
    TEST_ORI(0x34e01280, 0x00003155, 0x34e033d5)
    TEST_ORI(0x035dac7e, 0x0000ebc8, 0x035deffe)
    TEST_ORI(0xd1b94930, 0x0000871f, 0xd1b9cf3f)
    TEST_ORI(0xd5b85b86, 0x0000043e, 0xd5b85fbe)
    TEST_ORI(0x2d2638e0, 0x000037b0, 0x2d263ff0)
    TEST_ORI(0xe47c81bc, 0x000065d7, 0xe47ce5ff)
    TEST_ORI(0xe8b483f3, 0x0000a39a, 0xe8b4a3fb)
    TEST_ORI(0xfe58c120, 0x0000192c, 0xfe58d92c)
    TEST_ORI(0x5eed4089, 0x00001bdc, 0x5eed5bdd)
    TEST_ORI(0x418d9d98, 0x00008409, 0x418d9d99)
    TEST_ORI(0x68703e32, 0x00008d56, 0x6870bf76)
    TEST_ORI(0xa5aa8a80, 0x00003ad2, 0xa5aabad2)
    TEST_ORI(0x1345c932, 0x00006247, 0x1345eb77)
    TEST_ORI(0x43a3d75c, 0x00000000, 0x43a3d75c)
    TEST_ORI(0xb39dd06c, 0x00000000, 0xb39dd06c)
    TEST_ORI(0x00000000, 0x0000bde4, 0x0000bde4)
    TEST_ORI(0x00000000, 0x000022e2, 0x000022e2)
    TEST_ORI(0x00000000, 0x0000fa34, 0x0000fa34)
    TEST_ORI(0x00000000, 0x0000cea7, 0x0000cea7)
    TEST_ORI(0x00000000, 0x0000a738, 0x0000a738)
    TEST_ORI(0x00000000, 0x0000cb80, 0x0000cb80)
    TEST_ORI(0x00000000, 0x0000c5ae, 0x0000c5ae)
    TEST_ORI(0x00000000, 0x000068ed, 0x000068ed)
    TEST_ORI(0x00000000, 0x00007d58, 0x00007d58)
    TEST_ORI(0x00000000, 0x00001eb4, 0x00001eb4)
    TEST_ORI(0x00000000, 0x0000a76c, 0x0000a76c)
    TEST_ORI(0x00000000, 0x000040a8, 0x000040a8)
    TEST_ORI(0x00000000, 0x00009cd8, 0x00009cd8)
    TEST_ORI(0x00000000, 0x0000882c, 0x0000882c)
    TEST_ORI(0x00000000, 0x00001714, 0x00001714)
    TEST_ORI(0x00000000, 0x0000f373, 0x0000f373)
    TEST_ORI(0x00000000, 0x00000c46, 0x00000c46)
    TEST_ORI(0x00000000, 0x0000ed94, 0x0000ed94)
    TEST_ORI(0x00000000, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n29_ori_test)
