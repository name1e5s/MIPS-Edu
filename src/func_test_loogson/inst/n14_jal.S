#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n14_jal_test)
    .set noreorder
    addiu s0, s0 ,1
    li  s2, 0x0
###test inst
    TEST_JAL(0x8c3e1efa, 0xeb2bd57c, 0x8c3e1efa, 0xeb2bd57c)
    TEST_JAL(0xfbc1f5d0, 0xb91bc0b0, 0xfbc1f5d0, 0xb91bc0b0)
    TEST_JAL(0xc1062356, 0xf8d60c60, 0xc1062356, 0xf8d60c60)
    TEST_JAL(0xe8609af3, 0xe8c6d23c, 0xe8609af3, 0xe8c6d23c)
    TEST_JAL(0x397df8e2, 0xdad4d9c8, 0x397df8e2, 0xdad4d9c8)
    TEST_JAL(0x50a379d0, 0xcebec140, 0x50a379d0, 0xcebec140)
    TEST_JAL(0x3af9c4d7, 0x9d770cfe, 0x3af9c4d7, 0x9d770cfe)
    TEST_JAL(0xe0814d80, 0x535d93c0, 0xe0814d80, 0x535d93c0)
    TEST_JAL(0x9886e010, 0x300135f0, 0x9886e010, 0x300135f0)
    TEST_JAL(0x70f4bbd4, 0x0afa6080, 0x70f4bbd4, 0x0afa6080)
    TEST_JAL(0x957d3bd2, 0x5726030a, 0x957d3bd2, 0x5726030a)
    TEST_JAL(0xff441412, 0x93520ef6, 0xff441412, 0x93520ef6)
    TEST_JAL(0xa3ad1eca, 0x0f86f200, 0xa3ad1eca, 0x0f86f200)
    TEST_JAL(0xe6bd89c0, 0x01dc0560, 0xe6bd89c0, 0x01dc0560)
    TEST_JAL(0xf5e4174e, 0xbefbf528, 0xf5e4174e, 0xbefbf528)
    TEST_JAL(0x0e2e04b8, 0x5e3ad5e9, 0x0e2e04b8, 0x5e3ad5e9)
    TEST_JAL(0xf0132abc, 0x6a99fa90, 0xf0132abc, 0x6a99fa90)
    TEST_JAL(0xd29b6d80, 0x5fde970c, 0xd29b6d80, 0x5fde970c)
    TEST_JAL(0xb35fc4b0, 0x0b665f50, 0xb35fc4b0, 0x0b665f50)
    TEST_JAL(0x52eafe00, 0xfaddf60c, 0x52eafe00, 0xfaddf60c)
    TEST_JAL(0xd280ee0a, 0x2176f4c0, 0xd280ee0a, 0x2176f4c0)
    TEST_JAL(0xe9bc5a90, 0xab0421a6, 0xe9bc5a90, 0xab0421a6)
    TEST_JAL(0x8335d66d, 0xdaf2c222, 0x8335d66d, 0xdaf2c222)
    TEST_JAL(0x18e08d00, 0x6fa3619e, 0x18e08d00, 0x6fa3619e)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n14_jal_test)
